{"ast":null,"code":"var _jsxFileName = \"/Users/alexander_hritsun/WebstormProjects/asr/client/src/pages/Services/ServiceCard.jsx\";\nimport { Button, Card, Col, Container, Row } from \"react-bootstrap\";\nimport { NavLink } from \"react-router-dom\";\nimport { AuthContext } from \"context/AuthContext\";\nimport { useHttp } from \"hooks/http.hook\";\nimport React, { useContext } from \"react\";\nimport BeautyStars from \"beauty-stars\";\nexport const ServiceCard = ({\n  services,\n  onActionPerformed\n}) => {\n  const {\n    request\n  } = useHttp();\n  const {\n    token,\n    userRole\n  } = useContext(AuthContext);\n  const isModer = userRole === 'moderator';\n  const isAdmin = userRole === 'admin';\n\n  const handleDeleteService = async service => {\n    try {\n      const data = await request(`/api/services/${service._id}/delete`, 'DELETE', null, {\n        Authorization: `Bearer ${token}`\n      });\n      if (onActionPerformed) onActionPerformed(data);\n    } catch (e) {}\n  };\n\n  if (!services.length) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      className: \"align-self-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 16\n      }\n    }, \"\\u041F\\u043E\\u0441\\u0442\\u043E\\u0432 \\u043F\\u043E\\u043A\\u0430 \\u043D\\u0435\\u0442\");\n  }\n\n  return /*#__PURE__*/React.createElement(Container, {\n    className: \"service-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    style: {\n      flexWrap: 'wrap'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }\n  }, services.map((service, i) => {\n    return /*#__PURE__*/React.createElement(Col, {\n      key: i,\n      md: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Card.Img, {\n      variant: \"top\",\n      src: service.files[0] || \"https://cdn2.vectorstock.com/i/1000x1000/37/86/auto-mechanic-service-flat-icons-of-maintenance-vector-2953786.jpg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Card.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 41\n      }\n    }, service.name), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        marginBottom: 15\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(BeautyStars, {\n      size: 15,\n      value: service.rating,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 45\n      }\n    }))), /*#__PURE__*/React.createElement(NavLink, {\n      to: `/services/${service._id}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 41\n      }\n    }, \"\\u041F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\\u0435\\u0442\\u044C\")), /*#__PURE__*/React.createElement(Card.Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 37\n      }\n    }, service.description)), (isAdmin || isModer) && /*#__PURE__*/React.createElement(Button, {\n      className: \"delete-btn\",\n      variant: \"secondary\",\n      onClick: () => handleDeleteService(service),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 58\n      }\n    }, \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\")));\n  })));\n};","map":{"version":3,"sources":["/Users/alexander_hritsun/WebstormProjects/asr/client/src/pages/Services/ServiceCard.jsx"],"names":["Button","Card","Col","Container","Row","NavLink","AuthContext","useHttp","React","useContext","BeautyStars","ServiceCard","services","onActionPerformed","request","token","userRole","isModer","isAdmin","handleDeleteService","service","data","_id","Authorization","e","length","flexWrap","map","i","files","name","display","justifyContent","marginBottom","rating","description"],"mappings":";AAAA,SAASA,MAAT,EAAiBC,IAAjB,EAAuBC,GAAvB,EAA4BC,SAA5B,EAAuCC,GAAvC,QAAkD,iBAAlD;AACA,SAASC,OAAT,QAAwB,kBAAxB;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,OAAOC,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,OAAOC,WAAP,MAAwB,cAAxB;AAEA,OAAO,MAAMC,WAAW,GAAG,CAAC;AAAEC,EAAAA,QAAF;AAAYC,EAAAA;AAAZ,CAAD,KAAqC;AAC5D,QAAM;AAAEC,IAAAA;AAAF,MAAcP,OAAO,EAA3B;AACA,QAAM;AAAEQ,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAsBP,UAAU,CAACH,WAAD,CAAtC;AACA,QAAMW,OAAO,GAAGD,QAAQ,KAAK,WAA7B;AACA,QAAME,OAAO,GAAGF,QAAQ,KAAK,OAA7B;;AAEA,QAAMG,mBAAmB,GAAG,MAAOC,OAAP,IAAmB;AAC3C,QAAI;AACA,YAAMC,IAAI,GAAG,MAAMP,OAAO,CAAE,iBAAgBM,OAAO,CAACE,GAAI,SAA9B,EAAwC,QAAxC,EAAkD,IAAlD,EAAwD;AAC9EC,QAAAA,aAAa,EAAG,UAASR,KAAM;AAD+C,OAAxD,CAA1B;AAGA,UAAIF,iBAAJ,EAAuBA,iBAAiB,CAACQ,IAAD,CAAjB;AAC1B,KALD,CAKE,OAAOG,CAAP,EAAU,CAAG;AAClB,GAPD;;AASA,MAAI,CAACZ,QAAQ,CAACa,MAAd,EAAsB;AAClB,wBAAO;AAAG,MAAA,SAAS,EAAC,mBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0FAAP;AACH;;AAED,sBACI,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAC,cAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,GAAD;AAAK,IAAA,KAAK,EAAE;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKd,QAAQ,CAACe,GAAT,CAAa,CAACP,OAAD,EAAUQ,CAAV,KAAgB;AAC1B,wBACI,oBAAC,GAAD;AAAK,MAAA,GAAG,EAAEA,CAAV;AAAa,MAAA,EAAE,EAAE,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,GAAN;AAAU,MAAA,OAAO,EAAC,KAAlB;AAAwB,MAAA,GAAG,EAAER,OAAO,CAACS,KAAR,CAAc,CAAd,KAAoB,mHAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAaT,OAAO,CAACU,IAArB,CADJ,eAEI;AACI,MAAA,KAAK,EAAE;AACHC,QAAAA,OAAO,EAAE,MADN;AAEHC,QAAAA,cAAc,EAAE,QAFb;AAGHC,QAAAA,YAAY,EAAE;AAHX,OADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAOI,oBAAC,WAAD;AACI,MAAA,IAAI,EAAE,EADV;AAEI,MAAA,KAAK,EAAEb,OAAO,CAACc,MAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPJ,CAFJ,CADJ,eAgBI,oBAAC,OAAD;AAAS,MAAA,EAAE,EAAG,aAAYd,OAAO,CAACE,GAAI,EAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4EADJ,CAhBJ,eAmBI,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKF,OAAO,CAACe,WADb,CAnBJ,CAFJ,EA0BK,CAACjB,OAAO,IAAID,OAAZ,kBAAwB,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,YAAlB;AAA+B,MAAA,OAAO,EAAC,WAAvC;AAAmD,MAAA,OAAO,EAAE,MAAME,mBAAmB,CAACC,OAAD,CAArF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDA1B7B,CADJ,CADJ;AAgCH,GAjCA,CADL,CADJ,CADJ;AAwCH,CA3DM","sourcesContent":["import { Button, Card, Col, Container, Row } from \"react-bootstrap\";\nimport { NavLink } from \"react-router-dom\";\nimport { AuthContext } from \"context/AuthContext\";\nimport { useHttp } from \"hooks/http.hook\";\nimport React, { useContext } from \"react\";\nimport BeautyStars from \"beauty-stars\";\n\nexport const ServiceCard = ({ services, onActionPerformed }) => {\n    const { request } = useHttp()\n    const { token, userRole } = useContext(AuthContext)\n    const isModer = userRole === 'moderator';\n    const isAdmin = userRole === 'admin';\n\n    const handleDeleteService = async (service) => {\n        try {\n            const data = await request(`/api/services/${service._id}/delete`, 'DELETE', null, {\n                Authorization: `Bearer ${token}`\n            })\n            if (onActionPerformed) onActionPerformed(data);\n        } catch (e) { }\n    }\n\n    if (!services.length) {\n        return <p className=\"align-self-center\">Постов пока нет</p>\n    }\n\n    return (\n        <Container className=\"service-card\">\n            <Row style={{ flexWrap: 'wrap' }}>\n                {services.map((service, i) => {\n                    return (\n                        <Col key={i} md={3}>\n                            <Card>\n                                <Card.Img variant=\"top\" src={service.files[0] || \"https://cdn2.vectorstock.com/i/1000x1000/37/86/auto-mechanic-service-flat-icons-of-maintenance-vector-2953786.jpg\"} />\n                                <Card.Body>\n                                    <div>\n                                        <Card.Title>{service.name}</Card.Title>\n                                        <div\n                                            style={{\n                                                display: 'flex',\n                                                justifyContent: 'center',\n                                                marginBottom: 15\n                                            }}\n                                        >\n                                            <BeautyStars\n                                                size={15}\n                                                value={service.rating}\n                                            />\n                                        </div>\n                                    </div>\n                                    <NavLink to={`/services/${service._id}`}>\n                                        <Button variant=\"primary\">Просмотреть</Button>\n                                    </NavLink>\n                                    <Card.Text>\n                                        {service.description}\n                                    </Card.Text>\n                                </Card.Body>\n\n                                {(isAdmin || isModer) && <Button className=\"delete-btn\" variant=\"secondary\" onClick={() => handleDeleteService(service)}>Удалить</Button>}\n                            </Card>\n                        </Col>\n                    )\n                })}\n            </Row>\n        </Container>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}