{"ast":null,"code":"var _jsxFileName = \"/Users/alexander_hritsun/WebstormProjects/asr/client/src/pages/Posts/AddComment.jsx\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { Form, Button, Image } from \"react-bootstrap\";\nimport { useHttp } from \"hooks/http.hook\";\nimport { AuthContext } from \"context/AuthContext\";\nimport { FormErrors } from \"components/FormError\";\n\nconst AddComment = ({\n  onActionPerformed,\n  postId\n}) => {\n  const {\n    token\n  } = useContext(AuthContext);\n  const {\n    loading,\n    request,\n    error\n  } = useHttp();\n  const [form, setForm] = useState({\n    text: ''\n  });\n\n  const changeHandler = event => {\n    setForm({ ...form,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const createHandler = async () => {\n    try {\n      const data = await request('/api/comments/create', 'POST', { ...form,\n        postId\n      }, {\n        Authorization: `Bearer ${token}`\n      });\n      if (onActionPerformed) onActionPerformed(data);\n      setForm({\n        text: ''\n      });\n    } catch (e) {}\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FormErrors, {\n    formErrors: error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 21\n    }\n  }, \"\\u041E\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442\\u044C \\u043A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439\"), /*#__PURE__*/React.createElement(Form.Control, {\n    as: \"textarea\",\n    rows: \"4\",\n    name: \"text\",\n    value: form.text,\n    onChange: changeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    style: {\n      marginTop: 10\n    },\n    variant: \"secondary\",\n    className: \"mr-m\",\n    type: \"button\",\n    onClick: createHandler,\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }\n  }, \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\")));\n};\n\nexport default AddComment;","map":{"version":3,"sources":["/Users/alexander_hritsun/WebstormProjects/asr/client/src/pages/Posts/AddComment.jsx"],"names":["React","useContext","useEffect","useState","Form","Button","Image","useHttp","AuthContext","FormErrors","AddComment","onActionPerformed","postId","token","loading","request","error","form","setForm","text","changeHandler","event","target","name","value","createHandler","data","Authorization","e","marginTop"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,SAASC,IAAT,EAAeC,MAAf,EAAuBC,KAAvB,QAAoC,iBAApC;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,SAASC,UAAT,QAA2B,sBAA3B;;AAEA,MAAMC,UAAU,GAAG,CAAC;AAAEC,EAAAA,iBAAF;AAAqBC,EAAAA;AAArB,CAAD,KAAmC;AAClD,QAAM;AAAEC,IAAAA;AAAF,MAAYZ,UAAU,CAACO,WAAD,CAA5B;AACA,QAAM;AAAEM,IAAAA,OAAF;AAAWC,IAAAA,OAAX;AAAoBC,IAAAA;AAApB,MAA8BT,OAAO,EAA3C;AACA,QAAM,CAACU,IAAD,EAAOC,OAAP,IAAkBf,QAAQ,CAAC;AAC7BgB,IAAAA,IAAI,EAAE;AADuB,GAAD,CAAhC;;AAGA,QAAMC,aAAa,GAAGC,KAAK,IAAI;AAC3BH,IAAAA,OAAO,CAAC,EAAE,GAAGD,IAAL;AAAW,OAACI,KAAK,CAACC,MAAN,CAAaC,IAAd,GAAqBF,KAAK,CAACC,MAAN,CAAaE;AAA7C,KAAD,CAAP;AACH,GAFD;;AAGA,QAAMC,aAAa,GAAG,YAAY;AAC9B,QAAI;AACA,YAAMC,IAAI,GAAG,MAAMX,OAAO,CAAC,sBAAD,EAAyB,MAAzB,EAAiC,EAAE,GAAGE,IAAL;AAAWL,QAAAA;AAAX,OAAjC,EAAsD;AAC5Ee,QAAAA,aAAa,EAAG,UAASd,KAAM;AAD6C,OAAtD,CAA1B;AAGA,UAAIF,iBAAJ,EAAuBA,iBAAiB,CAACe,IAAD,CAAjB;AACvBR,MAAAA,OAAO,CAAC;AAAEC,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAP;AACH,KAND,CAME,OAAOS,CAAP,EAAU,CAAG;AAClB,GARD;;AASA,sBACI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAY,IAAA,UAAU,EAAEZ,KAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI,oBAAC,IAAD,CAAM,KAAN;AAAY,IAAA,SAAS,EAAC,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2HADJ,eAEI,oBAAC,IAAD,CAAM,OAAN;AACI,IAAA,EAAE,EAAC,UADP;AAEI,IAAA,IAAI,EAAC,GAFT;AAGI,IAAA,IAAI,EAAC,MAHT;AAII,IAAA,KAAK,EAAEC,IAAI,CAACE,IAJhB;AAKI,IAAA,QAAQ,EAAEC,aALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CAFJ,eAaI,oBAAC,MAAD;AACI,IAAA,KAAK,EAAE;AAAES,MAAAA,SAAS,EAAE;AAAb,KADX;AAEI,IAAA,OAAO,EAAC,WAFZ;AAGI,IAAA,SAAS,EAAC,MAHd;AAII,IAAA,IAAI,EAAC,QAJT;AAKI,IAAA,OAAO,EAAEJ,aALb;AAMI,IAAA,QAAQ,EAAEX,OANd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kDAbJ,CAFJ,CADJ;AA6BH,CA/CD;;AAiDA,eAAeJ,UAAf","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { Form, Button, Image } from \"react-bootstrap\";\nimport { useHttp } from \"hooks/http.hook\";\nimport { AuthContext } from \"context/AuthContext\";\nimport { FormErrors } from \"components/FormError\";\n\nconst AddComment = ({ onActionPerformed, postId }) => {\n    const { token } = useContext(AuthContext)\n    const { loading, request, error } = useHttp();\n    const [form, setForm] = useState({\n        text: ''\n    })\n    const changeHandler = event => {\n        setForm({ ...form, [event.target.name]: event.target.value })\n    }\n    const createHandler = async () => {\n        try {\n            const data = await request('/api/comments/create', 'POST', { ...form, postId }, {\n                Authorization: `Bearer ${token}`\n            });\n            if (onActionPerformed) onActionPerformed(data);\n            setForm({ text: '' })\n        } catch (e) { }\n    }\n    return (\n        <div className=\"form\">\n            <FormErrors formErrors={error}/>\n            <Form>\n\n                <Form.Group controlId=\"text\">\n                    <Form.Label>Оставить комментарий</Form.Label>\n                    <Form.Control\n                        as=\"textarea\"\n                        rows=\"4\"\n                        name=\"text\"\n                        value={form.text}\n                        onChange={changeHandler}\n                    />\n                </Form.Group>\n\n                <Button\n                    style={{ marginTop: 10 }}\n                    variant=\"secondary\"\n                    className='mr-m'\n                    type=\"button\"\n                    onClick={createHandler}\n                    disabled={loading}\n                >\n                    Создать\n                </Button>\n            </Form>\n        </div>\n    )\n}\n\nexport default AddComment"]},"metadata":{},"sourceType":"module"}