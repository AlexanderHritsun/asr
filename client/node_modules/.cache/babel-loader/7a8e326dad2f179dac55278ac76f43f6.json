{"ast":null,"code":"var _jsxFileName = \"/Users/alexander_hritsun/WebstormProjects/asr/client/src/pages/Services/AddReview.jsx\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { useHttp } from \"hooks/http.hook\";\nimport { AuthContext } from \"context/AuthContext\";\nimport { FormErrors } from \"components/FormError\";\nimport BeautyStars from \"beauty-stars\";\n\nconst AddReview = ({\n  onActionPerformed,\n  serviceId\n}) => {\n  const {\n    token\n  } = useContext(AuthContext);\n  const {\n    loading,\n    request,\n    error\n  } = useHttp();\n  const [form, setForm] = useState({\n    text: '',\n    rating: 0\n  });\n\n  const changeHandler = event => {\n    setForm({ ...form,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const createHandler = async () => {\n    try {\n      const data = await request('/api/review/create', 'POST', { ...form,\n        serviceId\n      }, {\n        Authorization: `Bearer ${token}`\n      });\n      if (onActionPerformed) onActionPerformed(data);\n      setForm({\n        text: '',\n        rating: 0\n      });\n    } catch (e) {}\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FormErrors, {\n    formErrors: error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 21\n    }\n  }, \"\\u041E\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442\\u044C \\u043E\\u0442\\u0437\\u044B\\u0432\"), /*#__PURE__*/React.createElement(Form.Control, {\n    as: \"textarea\",\n    rows: \"4\",\n    name: \"text\",\n    value: form.text,\n    onChange: changeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 21\n    }\n  }, \"\\u0420\\u0435\\u0439\\u0442\\u0438\\u043D\\u0433\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"range\",\n    min: \"0\",\n    max: \"5\",\n    name: \"rating\",\n    value: form.rating,\n    onChange: changeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center',\n      marginBottom: 15\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(BeautyStars, {\n    size: 15,\n    value: form.rating,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    style: {\n      marginTop: 10\n    },\n    variant: \"secondary\",\n    className: \"mr-m\",\n    type: \"button\",\n    onClick: createHandler,\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\")));\n};\n\nexport default AddReview;","map":{"version":3,"sources":["/Users/alexander_hritsun/WebstormProjects/asr/client/src/pages/Services/AddReview.jsx"],"names":["React","useContext","useEffect","useState","Form","Button","useHttp","AuthContext","FormErrors","BeautyStars","AddReview","onActionPerformed","serviceId","token","loading","request","error","form","setForm","text","rating","changeHandler","event","target","name","value","createHandler","data","Authorization","e","display","justifyContent","marginBottom","marginTop"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { useHttp } from \"hooks/http.hook\";\nimport { AuthContext } from \"context/AuthContext\";\nimport { FormErrors } from \"components/FormError\";\nimport BeautyStars from \"beauty-stars\";\n\nconst AddReview = ({ onActionPerformed, serviceId }) => {\n    const { token } = useContext(AuthContext)\n    const { loading, request, error } = useHttp();\n    const [form, setForm] = useState({\n        text: '', rating: 0,\n    })\n    const changeHandler = event => {\n        setForm({ ...form, [event.target.name]: event.target.value })\n    }\n    const createHandler = async () => {\n        try {\n            const data = await request('/api/review/create', 'POST', { ...form, serviceId }, {\n                Authorization: `Bearer ${token}`\n            });\n            if (onActionPerformed) onActionPerformed(data);\n            setForm({ text: '', rating: 0 })\n        } catch (e) { }\n    }\n    return (\n        <div className=\"form\">\n            <FormErrors formErrors={error} />\n            <Form>\n\n                <Form.Group controlId=\"text\">\n                    <Form.Label>Оставить отзыв</Form.Label>\n                    <Form.Control\n                        as=\"textarea\"\n                        rows=\"4\"\n                        name=\"text\"\n                        value={form.text}\n                        onChange={changeHandler}\n                    />\n                </Form.Group>\n\n                <Form.Group controlId=\"text\">\n                    <Form.Label>Рейтинг</Form.Label>\n                    <Form.Control\n                        type=\"range\"\n                        min=\"0\"\n                        max=\"5\"\n                        name=\"rating\"\n                        value={form.rating}\n                        onChange={changeHandler}\n                    />\n                </Form.Group>\n                <div\n                    style={{\n                        display: 'flex',\n                        justifyContent: 'center',\n                        marginBottom: 15\n                    }}\n                >\n                    <BeautyStars\n                        size={15}\n                        value={form.rating}\n                    />\n                </div>\n\n                <Button\n                    style={{ marginTop: 10 }}\n                    variant=\"secondary\"\n                    className='mr-m'\n                    type=\"button\"\n                    onClick={createHandler}\n                    disabled={loading}\n                >\n                    Создать\n                </Button>\n            </Form>\n        </div>\n    )\n}\n\nexport default AddReview"]},"metadata":{},"sourceType":"module"}