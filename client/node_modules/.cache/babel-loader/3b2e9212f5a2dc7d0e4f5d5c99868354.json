{"ast":null,"code":"var _jsxFileName = \"/Users/alexander_hritsun/WebstormProjects/asr/client/src/components/Comment/index.jsx\";\nimport React, { useContext } from 'react';\nimport { Card, Button } from \"react-bootstrap\";\nimport { AuthContext } from \"context/AuthContext\";\nimport { useHttp } from \"hooks/http.hook\";\nexport const PostComment = ({\n  comment,\n  onActionPerformed\n}) => {\n  const {\n    request\n  } = useHttp();\n  const {\n    token,\n    userRole\n  } = useContext(AuthContext);\n  const isModer = userRole === 'moderator';\n  const isAdmin = userRole === 'admin';\n\n  const handleDeleteComment = async () => {\n    try {\n      const data = await request(`/api/comments/${comment._id}/delete`, 'DELETE', null, {\n        Authorization: `Bearer ${token}`\n      });\n      if (onActionPerformed) onActionPerformed(data);\n    } catch (e) {}\n  };\n\n  if (comment) {\n    return /*#__PURE__*/React.createElement(Card, {\n      className: \"w100 comment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Card.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 21\n      }\n    }, comment.userId ? comment.userId.name : ''), /*#__PURE__*/React.createElement(Card.Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 21\n      }\n    }, comment.text), (isAdmin || isModer) && /*#__PURE__*/React.createElement(Button, {\n      variant: \"secondary\",\n      className: \"delete-btn\",\n      onClick: () => handleDeleteComment(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 46\n      }\n    }, \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\")));\n  }\n};","map":{"version":3,"sources":["/Users/alexander_hritsun/WebstormProjects/asr/client/src/components/Comment/index.jsx"],"names":["React","useContext","Card","Button","AuthContext","useHttp","PostComment","comment","onActionPerformed","request","token","userRole","isModer","isAdmin","handleDeleteComment","data","_id","Authorization","e","userId","name","text"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,SAASC,IAAT,EAAeC,MAAf,QAA6B,iBAA7B;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,SAASC,OAAT,QAAwB,iBAAxB;AAIA,OAAO,MAAMC,WAAW,GAAG,CAAC;AAAEC,EAAAA,OAAF;AAAWC,EAAAA;AAAX,CAAD,KAAoC;AAC3D,QAAM;AAAEC,IAAAA;AAAF,MAAcJ,OAAO,EAA3B;AACA,QAAM;AAAEK,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAsBV,UAAU,CAACG,WAAD,CAAtC;AACA,QAAMQ,OAAO,GAAGD,QAAQ,KAAK,WAA7B;AACA,QAAME,OAAO,GAAGF,QAAQ,KAAK,OAA7B;;AAEA,QAAMG,mBAAmB,GAAG,YAAY;AACpC,QAAI;AACA,YAAMC,IAAI,GAAG,MAAMN,OAAO,CAAE,iBAAgBF,OAAO,CAACS,GAAI,SAA9B,EAAwC,QAAxC,EAAkD,IAAlD,EAAwD;AAC9EC,QAAAA,aAAa,EAAG,UAASP,KAAM;AAD+C,OAAxD,CAA1B;AAGA,UAAIF,iBAAJ,EAAuBA,iBAAiB,CAACO,IAAD,CAAjB;AAC1B,KALD,CAKE,OAAOG,CAAP,EAAU,CAAG;AAClB,GAPD;;AASA,MAAIX,OAAJ,EAAa;AACT,wBACI,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKA,OAAO,CAACY,MAAR,GAAiBZ,OAAO,CAACY,MAAR,CAAeC,IAAhC,GAAuC,EAD5C,CADJ,eAII,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKb,OAAO,CAACc,IADb,CAJJ,EAOK,CAACR,OAAO,IAAID,OAAZ,kBAAwB,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,WAAhB;AAA4B,MAAA,SAAS,EAAC,YAAtC;AAAmD,MAAA,OAAO,EAAE,MAAME,mBAAmB,EAArF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDAP7B,CADJ,CADJ;AAaH;AACJ,CA9BM","sourcesContent":["import React, { useContext } from 'react';\nimport { Card, Button } from \"react-bootstrap\";\nimport { AuthContext } from \"context/AuthContext\";\nimport { useHttp } from \"hooks/http.hook\";\n\n\n\nexport const PostComment = ({ comment, onActionPerformed }) => {\n    const { request } = useHttp();\n    const { token, userRole } = useContext(AuthContext)\n    const isModer = userRole === 'moderator';\n    const isAdmin = userRole === 'admin';\n\n    const handleDeleteComment = async () => {\n        try {\n            const data = await request(`/api/comments/${comment._id}/delete`, 'DELETE', null, {\n                Authorization: `Bearer ${token}`\n            })\n            if (onActionPerformed) onActionPerformed(data);\n        } catch (e) { }\n    }\n\n    if (comment) {\n        return (\n            <Card className='w100 comment'>\n                <Card.Body>\n                    <Card.Title>\n                        {comment.userId ? comment.userId.name : ''}\n                    </Card.Title>\n                    <Card.Text>\n                        {comment.text}\n                    </Card.Text>\n                    {(isAdmin || isModer) && <Button variant=\"secondary\" className=\"delete-btn\" onClick={() => handleDeleteComment()}>Удалить</Button>}\n                </Card.Body>\n            </Card>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}