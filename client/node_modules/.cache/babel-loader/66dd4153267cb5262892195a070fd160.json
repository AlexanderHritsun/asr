{"ast":null,"code":"var _jsxFileName = \"/Users/alexander_hritsun/WebstormProjects/asr/client/src/pages/Services/OneService.jsx\";\nimport React, { useEffect, useState, useContext, useCallback } from \"react\";\nimport { Card, Container, Row, Col, Image, Button } from 'react-bootstrap';\nimport BeautyStars from \"beauty-stars\";\nimport { useParams } from \"react-router-dom\";\nimport { AuthContext } from \"context/AuthContext\";\nimport { useHttp } from \"hooks/http.hook\";\nimport { Review } from \"components/Review\";\nimport AddReview from \"./AddReview\";\n\nfunction ServiceSpecificPage() {\n  const id = useParams().id;\n  const {\n    token\n  } = useContext(AuthContext);\n  const {\n    request\n  } = useHttp();\n  const [service, setService] = useState({\n    name: '',\n    description: '',\n    rating: 0,\n    files: [],\n    reviews: []\n  });\n  const getServiceData = useCallback(async () => {\n    try {\n      const data = await request(`/api/services/${id}`, 'GET', null, {\n        Authorization: `Bearer ${token}`\n      });\n      setService(data);\n    } catch (e) {}\n  }, [token, request]);\n\n  const handleReviewActionPerformed = () => {\n    getServiceData();\n  };\n\n  useEffect(() => {\n    getServiceData();\n  }, [getServiceData]);\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"w100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 21\n    }\n  }, service.name), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center',\n      marginBottom: 15\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(BeautyStars, {\n    size: 15,\n    value: service.rating,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Card.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  }, service.description), !!service.files.length && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center',\n      marginBottom: 15\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 25\n    }\n  }, service.files.map((file, i) => /*#__PURE__*/React.createElement(Image, {\n    src: file,\n    rounded: true,\n    style: {\n      maxWidth: 400,\n      maxHeight: 400,\n      margin: 10,\n      objectFit: 'cover'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 33\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, \"\\u041E\\u0442\\u0437\\u044B\\u0432\\u044B:\"), !service.reviews.length && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }, \"\\u041E\\u0442\\u0437\\u044B\\u0432\\u043E\\u0432 \\u043F\\u043E\\u043A\\u0430 \\u043D\\u0435\\u0442\")), service.reviews.map(review => {\n    return /*#__PURE__*/React.createElement(Review, {\n      key: review._id,\n      review: review,\n      onActionPerformed: handleReviewActionPerformed,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    });\n  }), !!token && /*#__PURE__*/React.createElement(AddReview, {\n    serviceId: service._id,\n    onActionPerformed: handleReviewActionPerformed,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 25\n    }\n  }));\n}\n\nexport default ServiceSpecificPage;","map":{"version":3,"sources":["/Users/alexander_hritsun/WebstormProjects/asr/client/src/pages/Services/OneService.jsx"],"names":["React","useEffect","useState","useContext","useCallback","Card","Container","Row","Col","Image","Button","BeautyStars","useParams","AuthContext","useHttp","Review","AddReview","ServiceSpecificPage","id","token","request","service","setService","name","description","rating","files","reviews","getServiceData","data","Authorization","e","handleReviewActionPerformed","display","justifyContent","marginBottom","length","map","file","i","maxWidth","maxHeight","margin","objectFit","padding","review","_id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext, useCallback } from \"react\";\nimport { Card, Container, Row, Col, Image, Button } from 'react-bootstrap';\nimport BeautyStars from \"beauty-stars\";\nimport { useParams } from \"react-router-dom\";\nimport { AuthContext } from \"context/AuthContext\";\nimport { useHttp } from \"hooks/http.hook\";\nimport { Review } from \"components/Review\";\nimport AddReview from \"./AddReview\";\n\nfunction ServiceSpecificPage() {\n    const id = useParams().id\n    const { token } = useContext(AuthContext)\n    const { request } = useHttp();\n    const [service, setService] = useState({\n        name: '', description: '', rating: 0, files: [], reviews: []\n    })\n\n    const getServiceData = useCallback(async () => {\n        try {\n            const data = await request(`/api/services/${id}`, 'GET', null, {\n                Authorization: `Bearer ${token}`\n            })\n            setService(data)\n        } catch (e) { }\n    }, [token, request]);\n\n    const handleReviewActionPerformed = () => {\n        getServiceData()\n    }\n\n    useEffect(() => {\n        getServiceData()\n    }, [getServiceData])\n\n    return (\n        <Container>\n            <Card className='w100'>\n                <Card.Body>\n                    <Card.Title>{service.name}</Card.Title>\n                    <div\n                        style={{\n                            display: 'flex',\n                            justifyContent: 'center',\n                            marginBottom: 15\n                        }}\n                    >\n                        <BeautyStars\n                            size={15}\n                            value={service.rating}\n                        />\n                    </div>\n\n                    <Card.Text>\n                        {service.description}\n                    </Card.Text>\n\n                    {!!service.files.length &&\n                        <div\n                            style={{\n                                display: 'flex',\n                                justifyContent: 'center',\n                                marginBottom: 15\n                            }}>\n                            {service.files.map((file, i) => (\n                                <Image src={file} rounded style={{\n                                    maxWidth: 400,\n                                    maxHeight: 400,\n                                    margin: 10,\n                                    objectFit: 'cover'\n                                }} />\n                            ))}\n                        </div>}\n                </Card.Body>\n            </Card>\n            <div style={{ padding: 10 }}>\n                Отзывы:\n            </div>\n            {!service.reviews.length &&\n                <div>\n                    <p>Отзывов пока нет</p>\n                </div>\n            }\n            {service.reviews.map(review => {\n                return (\n                    <Review key={review._id} review={review} onActionPerformed={handleReviewActionPerformed} />\n                )\n            })}\n            {!!token && <AddReview serviceId={service._id} onActionPerformed={handleReviewActionPerformed} />}\n        </Container>\n    )\n}\n\nexport default ServiceSpecificPage;"]},"metadata":{},"sourceType":"module"}