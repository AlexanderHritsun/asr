{"ast":null,"code":"var _jsxFileName = \"/Users/alexander_hritsun/WebstormProjects/asr/client/src/components/Header/index.jsx\";\nimport React, { useState, useContext, useEffect, useRef } from \"react\";\nimport qs from 'qs';\nimport { Navbar, Button, Form, FormControl } from 'react-bootstrap';\nimport { NavLink, useLocation, useHistory } from \"react-router-dom\";\nimport { GoSearch } from \"react-icons/all\";\nimport { AuthContext } from \"context/AuthContext\";\n\nconst Header = ({\n  isAuthenticated\n}) => {\n  const {\n    pathname,\n    search\n  } = useLocation();\n  const history = useHistory();\n  const [searchText, setSearchText] = useState('');\n  const searctTimeout = useRef(null);\n  const auth = useContext(AuthContext);\n\n  const logoutHandler = () => {\n    auth.logout();\n  };\n\n  const handleSearch = e => {\n    if (searctTimeout.current) clearTimeout(searctTimeout.current);\n    const val = e.target.value;\n    setSearchText(val);\n    searctTimeout.current = setTimeout(() => {\n      history.push(`${pathname}?search=${val}`);\n    }, 1000);\n  };\n\n  useEffect(() => {\n    const query = qs.parse(search, {\n      ignoreQueryPrefix: true\n    });\n    setSearchText(query.search || '');\n  }, [search]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, isAuthenticated ? /*#__PURE__*/React.createElement(Navbar, {\n    bg: \"dark\",\n    variant: \"dark\",\n    className: \"asr-nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n    href: \"/posts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 21\n    }\n  }, \"ASR\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ml-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/services/create\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"light\",\n    className: \"mr-m\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 29\n    }\n  }, \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u0441\\u0435\\u0440\\u0432\\u0438\\u0441\")), /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/posts/create\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"light\",\n    className: \"mr-m\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 29\n    }\n  }, \"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u043F\\u043E\\u0441\\u0442\")), /*#__PURE__*/React.createElement(Button, {\n    variant: \"secondary\",\n    className: \"mr-m\",\n    onClick: logoutHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 25\n    }\n  }, \"\\u0412\\u044B\\u0439\\u0442\\u0438\"))) : /*#__PURE__*/React.createElement(Navbar, {\n    bg: \"dark\",\n    variant: \"dark\",\n    className: \"asr-nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n    href: \"/posts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 21\n    }\n  }, \"ASR\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ml-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"light\",\n    className: \"mr-m\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 29\n    }\n  }, \"\\u0412\\u043E\\u0439\\u0442\\u0438\")), /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/registration\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"secondary\",\n    className: \"mr-m\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 29\n    }\n  }, \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\")))), /*#__PURE__*/React.createElement(Form, {\n    inline: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(GoSearch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    type: \"text\",\n    placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A\",\n    className: \"w100 asr-input\",\n    value: searchText,\n    onChange: handleSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }))));\n};\n\nexport default Header;","map":{"version":3,"sources":["/Users/alexander_hritsun/WebstormProjects/asr/client/src/components/Header/index.jsx"],"names":["React","useState","useContext","useEffect","useRef","qs","Navbar","Button","Form","FormControl","NavLink","useLocation","useHistory","GoSearch","AuthContext","Header","isAuthenticated","pathname","search","history","searchText","setSearchText","searctTimeout","auth","logoutHandler","logout","handleSearch","e","current","clearTimeout","val","target","value","setTimeout","push","query","parse","ignoreQueryPrefix"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect, useRef } from \"react\";\nimport qs from 'qs';\nimport { Navbar, Button, Form, FormControl } from 'react-bootstrap';\nimport { NavLink, useLocation, useHistory } from \"react-router-dom\";\nimport { GoSearch } from \"react-icons/all\";\nimport { AuthContext } from \"context/AuthContext\";\n\nconst Header = ({ isAuthenticated }) => {\n    const { pathname, search } = useLocation();\n    const history = useHistory();\n    const [searchText, setSearchText] = useState('');\n    const searctTimeout = useRef(null);\n\n    const auth = useContext(AuthContext)\n\n    const logoutHandler = () => {\n        auth.logout()\n    };\n    const handleSearch = (e) => {\n        if (searctTimeout.current) clearTimeout(searctTimeout.current);\n        const val = e.target.value;\n        setSearchText(val);\n        searctTimeout.current = setTimeout(() => {\n            history.push(`${pathname}?search=${val}`)\n        }, 1000);\n    };\n\n    useEffect(() => {\n        const query = qs.parse(search, { ignoreQueryPrefix: true });\n        setSearchText(query.search || '');\n    }, [search]);\n\n    return (\n        <div>\n            {isAuthenticated ? \n                <Navbar bg=\"dark\" variant=\"dark\" className=\"asr-nav\">\n                    <Navbar.Brand href=\"/posts\">ASR</Navbar.Brand>\n                    <div className=\"ml-auto\">\n                        <NavLink to='/services/create'>\n                            <Button variant=\"light\" className='mr-m'>Создать сервис</Button>\n                        </NavLink>\n                        <NavLink to='/posts/create'>\n                            <Button variant=\"light\" className='mr-m'>Новый пост</Button>\n                        </NavLink>\n                        <Button\n                            variant=\"secondary\"\n                            className='mr-m'\n                            onClick={logoutHandler}\n                        >\n                            Выйти\n                            </Button>\n                    </div>\n                </Navbar>\n                :\n                <Navbar bg=\"dark\" variant=\"dark\" className=\"asr-nav\">\n                    <Navbar.Brand href=\"/posts\">ASR</Navbar.Brand>\n                    <div className=\"ml-auto\">\n                        <NavLink to='/login'>\n                            <Button variant=\"light\" className='mr-m'>Войти</Button>\n                        </NavLink>\n                        <NavLink to='/registration'>\n                            <Button variant=\"secondary\" className='mr-m'>Регистрация</Button>\n                        </NavLink>\n                    </div>\n                </Navbar>}\n\n            <Form inline>\n                <div className='search-icon'>\n                    <GoSearch />\n                </div>\n                <div className='search-wrapper'>\n                    <FormControl\n                        type=\"text\"\n                        placeholder=\"Поиск\"\n                        className='w100 asr-input'\n                        value={searchText}\n                        onChange={handleSearch}\n                    />\n                </div>\n            </Form>\n        </div>\n    )\n}\n\nexport default Header;"]},"metadata":{},"sourceType":"module"}